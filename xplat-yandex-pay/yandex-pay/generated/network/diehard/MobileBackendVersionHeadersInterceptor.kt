// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM network/diehard/mobile-backend-version-headers-interceptor.ts >>>

package com.yandex.xplat.yandex.pay

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*

public open class MobileBackendVersionHeadersInterceptor(private val platform: ClientPlatform, private val version: String): NetworkInterceptor {
    open override fun intercept(originalRequest: NetworkRequest): XPromise<NetworkRequest> {
        return resolve(SealedNetworkRequest(originalRequest.method(), originalRequest.targetPath(), originalRequest.params(), originalRequest.urlExtra(), this.updateHeadersExtra(originalRequest.headersExtra()), originalRequest.encoding()))
    }

    private fun updateHeadersExtra(headersExtra: NetworkHeadersExtra): NetworkHeadersExtra {
        return headersExtra.putString("X-SDK-PLATFORM", "${this.platform}").putString("X-SDK-VERSION", this.version)
    }

}

