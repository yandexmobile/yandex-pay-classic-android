// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM network/yandex-pay-backend/user-cards-response.ts >>>

package com.yandex.xplat.yandex.pay

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*

public open class UserCardsResponse(status: String, code: Int, val cards: YSArray<UserCard>): BaseNetworkResponse(status, code) {
    companion object {
        @JvmStatic
        open fun fromJSONItem(json: JSONItem): Result<UserCardsResponse> {
            return BaseNetworkResponse.fromJSON(json, "UserCards").flatMap( {
                baseResponse ->
                decodeJSONItem(json, __LBL__UserCardsResponse_1@ {
                    item ->
                    val map = item.tryCastAsMapJSONItem()
                    val data = map.tryGet("data").tryCastAsMapJSONItem()
                    val cards = UserCardsResponse.parseCards(data.tryGetArray("cards"))
                    return@__LBL__UserCardsResponse_1 UserCardsResponse(baseResponse.status, baseResponse.code, cards)
                })
            })
        }

        @JvmStatic
        private fun parseCards(items: YSArray<JSONItem>): YSArray<UserCard> {
            return Collections.mapNotNull(items,  {
                item ->
                UserCard.fromJSONItem(item).asNullable()
            })
        }

    }
}

