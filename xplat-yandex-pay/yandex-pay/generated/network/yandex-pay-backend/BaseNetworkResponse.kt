// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM network/yandex-pay-backend/base-network-response.ts >>>

package com.yandex.xplat.yandex.pay

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*

public open class BaseNetworkResponse(val status: String, val code: Int) {
    companion object {
        @JvmStatic
        open fun fromJSON(json: JSONItem, callSite: String): Result<BaseNetworkResponse> {
            try {
                val map = json.tryCastAsMapJSONItem()
                val status = map.tryGetString("status")
                val code = map.tryGetInt32("code")
                if (APIError.isError(status, code)) {
                    val descString = map.tryGet("data").tryCastAsMapJSONItem().getString("message")
                    return resultError<BaseNetworkResponse>(APIError(status, code, if (descString != null) errorCodeFromString(descString) else null, callSite))
                }
                return resultValue(BaseNetworkResponse(status, code))
            } catch (e: RuntimeException) {
                return resultError(JSONParsingError.deserializationFailed(json, e as YSError))
            }
        }

    }
}

